'use strict'

const Joi = require('joi')
Joi.objectId = require('joi-objectid')(Joi)

module.exports = {
    body: Joi.object().keys({
        '_id': Joi.objectId(),
        'name': Joi.string().required(),
        'os': Joi.string().valid('Windows', 'Linux', 'Android'),
        'deviceId': Joi.number().required(),
        'vendorId': Joi.number().required(),
        'driverVersion': Joi.number().required(),
        'vulkanInfo': Joi.object().keys({
            'properties': Joi.object().keys({
                'apiVersion': Joi.object().keys({
                    'major': Joi.number().required(),
                    'minor': Joi.number().required(),
                    'patch': Joi.number().required(),
                }).required(),
                'driverVersion': Joi.number().required(),
                'vendorID': Joi.number().required(),
                'deviceID': Joi.number().required(),
                'deviceName': Joi.string().required(),
                'deviceType': Joi.string().required(),
                'pipelineCacheUUID': Joi.array().items(Joi.number()).required(),
                'limits': Joi.object().keys({
                    'maxImageDimension1D': Joi.number().required(),
                    'maxImageDimension2D': Joi.number().required(),
                    'maxImageDimension3D': Joi.number().required(),
                    'maxImageDimensionCube': Joi.number().required(),
                    'maxImageArrayLayers': Joi.number().required(),
                    'maxTexelBufferElements': Joi.number().required(),
                    'maxUniformBufferRange': Joi.number().required(),
                    'maxStorageBufferRange': Joi.number().required(),
                    'maxPushConstantsSize': Joi.number().required(),
                    'maxMemoryAllocationCount': Joi.number().required(),
                    'maxSamplerAllocationCount': Joi.number().required(),
                    'bufferImageGranularity': Joi.number().required(),
                    'sparseAddressSpaceSize': Joi.number().required(),
                    'maxBoundDescriptorSets': Joi.number().required(),
                    'maxPerStageDescriptorSamplers': Joi.number().required(),
                    'maxPerStageDescriptorUniformBuffers': Joi.number().required(),
                    'maxPerStageDescriptorStorageBuffers': Joi.number().required(),
                    'maxPerStageDescriptorSampledImages': Joi.number().required(),
                    'maxPerStageDescriptorStorageImages': Joi.number().required(),
                    'maxPerStageDescriptorInputAttachments': Joi.number().required(),
                    'maxPerStageResources': Joi.number().required(),
                    'maxDescriptorSetSamplers': Joi.number().required(),
                    'maxDescriptorSetUniformBuffers': Joi.number().required(),
                    'maxDescriptorSetUniformBuffersDynamic': Joi.number().required(),
                    'maxDescriptorSetStorageBuffers': Joi.number().required(),
                    'maxDescriptorSetStorageBuffersDynamic': Joi.number().required(),
                    'maxDescriptorSetSampledImages': Joi.number().required(),
                    'maxDescriptorSetStorageImages': Joi.number().required(),
                    'maxDescriptorSetInputAttachments': Joi.number().required(),
                    'maxVertexInputAttributes': Joi.number().required(),
                    'maxVertexInputBindings': Joi.number().required(),
                    'maxVertexInputAttributeOffset': Joi.number().required(),
                    'maxVertexInputBindingStride': Joi.number().required(),
                    'maxVertexOutputComponents': Joi.number().required(),
                    'maxTessellationGenerationLevel': Joi.number().required(),
                    'maxTessellationPatchSize': Joi.number().required(),
                    'maxTessellationControlPerVertexInputComponents': Joi.number().required(),
                    'maxTessellationControlPerVertexOutputComponents': Joi.number().required(),
                    'maxTessellationControlPerPatchOutputComponents': Joi.number().required(),
                    'maxTessellationControlTotalOutputComponents': Joi.number().required(),
                    'maxTessellationEvaluationInputComponents': Joi.number().required(),
                    'maxTessellationEvaluationOutputComponents': Joi.number().required(),
                    'maxGeometryShaderInvocations': Joi.number().required(),
                    'maxGeometryInputComponents': Joi.number().required(),
                    'maxGeometryOutputComponents': Joi.number().required(),
                    'maxGeometryOutputVertices': Joi.number().required(),
                    'maxGeometryTotalOutputComponents': Joi.number().required(),
                    'maxFragmentInputComponents': Joi.number().required(),
                    'maxFragmentOutputAttachments': Joi.number().required(),
                    'maxFragmentDualSrcAttachments': Joi.number().required(),
                    'maxFragmentCombinedOutputResources': Joi.number().required(),
                    'maxComputeSharedMemorySize': Joi.number().required(),
                    'maxComputeWorkGroupCount': Joi.array().items(Joi.number()).required(),
                    'maxComputeWorkGroupInvocations': Joi.number().required(),
                    'maxComputeWorkGroupSize': Joi.array().items(Joi.number()).required(),
                    'subPixelPrecisionBits': Joi.number().required(),
                    'subTexelPrecisionBits': Joi.number().required(),
                    'mipmapPrecisionBits': Joi.number().required(),
                    'maxDrawIndexedIndexValue': Joi.number().required(),
                    'maxDrawIndirectCount': Joi.number().required(),
                    'maxSamplerLodBias': Joi.number().required(),
                    'maxSamplerAnisotropy': Joi.number().required(),
                    'maxViewports': Joi.number().required(),
                    'maxViewportDimensions': Joi.array().items(Joi.number()).required(),
                    'viewportBoundsRange': Joi.array().items(Joi.number()).required(),
                    'viewportSubPixelBits': Joi.number().required(),
                    'minMemoryMapAlignment': Joi.number().required(),
                    'minTexelBufferOffsetAlignment': Joi.number().required(),
                    'minUniformBufferOffsetAlignment': Joi.number().required(),
                    'minStorageBufferOffsetAlignment': Joi.number().required(),
                    'minTexelOffset': Joi.number().required(),
                    'maxTexelOffset': Joi.number().required(),
                    'minTexelGatherOffset': Joi.number().required(),
                    'maxTexelGatherOffset': Joi.number().required(),
                    'minInterpolationOffset': Joi.number().required(),
                    'maxInterpolationOffset': Joi.number().required(),
                    'subPixelInterpolationOffsetBits': Joi.number().required(),
                    'maxFramebufferWidth': Joi.number().required(),
                    'maxFramebufferHeight': Joi.number().required(),
                    'maxFramebufferLayers': Joi.number().required(),
                    'framebufferColorSampleCounts': Joi.array().items(Joi.string()).required(),
                    'framebufferDepthSampleCounts': Joi.array().items(Joi.string()).required(),
                    'framebufferStencilSampleCounts': Joi.array().items(Joi.string()).required(),
                    'framebufferNoAttachmentsSampleCounts': Joi.array().items(Joi.string()).required(),
                    'maxColorAttachments': Joi.number().required(),
                    'sampledImageColorSampleCounts': Joi.array().items(Joi.string()).required(),
                    'sampledImageIntegerSampleCounts': Joi.array().items(Joi.string()).required(),
                    'sampledImageDepthSampleCounts': Joi.array().items(Joi.string()).required(),
                    'sampledImageStencilSampleCounts': Joi.array().items(Joi.string()).required(),
                    'storageImageSampleCounts': Joi.array().items(Joi.string()).required(),
                    'maxSampleMaskWords': Joi.number().required(),
                    'timestampComputeAndGraphics': Joi.boolean().required(),
                    'timestampPeriod': Joi.number().required(),
                    'maxClipDistances': Joi.number().required(),
                    'maxCullDistances': Joi.number().required(),
                    'maxCombinedClipAndCullDistances': Joi.number().required(),
                    'discreteQueuePriorities': Joi.number().required(),
                    'pointSizeRange': Joi.array().items(Joi.number()).required(),
                    'lineWidthRange': Joi.array().items(Joi.number()).required(),
                    'pointSizeGranularity': Joi.number().required(),
                    'lineWidthGranularity': Joi.number().required(),
                    'strictLines': Joi.boolean().required(),
                    'standardSampleLocations': Joi.boolean().required(),
                    'optimalBufferCopyOffsetAlignment': Joi.number().required(),
                    'optimalBufferCopyRowPitchAlignment': Joi.number().required(),
                    'nonCoherentAtomSize': Joi.number().required(),
                }).required(),
                'sparseProperties': Joi.object().keys({
                    'residencyStandard2DBlockShape': Joi.boolean().required(),
                    'residencyStandard2DMultisampleBlockShape': Joi.boolean().required(),
                    'residencyStandard3DBlockShape': Joi.boolean().required(),
                    'residencyAlignedMipSize': Joi.boolean().required(),
                    'residencyNonResidentStrict': Joi.boolean().required(),
                }).required(),
            }).required(),
            'features': Joi.object().keys({
                'robustBufferAccess': Joi.boolean().required(),
                'fullDrawIndexUint32': Joi.boolean().required(),
                'imageCubeArray': Joi.boolean().required(),
                'independentBlend': Joi.boolean().required(),
                'geometryShader': Joi.boolean().required(),
                'tessellationShader': Joi.boolean().required(),
                'sampleRateShading': Joi.boolean().required(),
                'dualSrcBlend': Joi.boolean().required(),
                'logicOp': Joi.boolean().required(),
                'multiDrawIndirect': Joi.boolean().required(),
                'drawIndirectFirstInstance': Joi.boolean().required(),
                'depthClamp': Joi.boolean().required(),
                'depthBiasClamp': Joi.boolean().required(),
                'fillModeNonSolid': Joi.boolean().required(),
                'depthBounds': Joi.boolean().required(),
                'wideLines': Joi.boolean().required(),
                'largePoints': Joi.boolean().required(),
                'alphaToOne': Joi.boolean().required(),
                'multiViewport': Joi.boolean().required(),
                'samplerAnisotropy': Joi.boolean().required(),
                'textureCompressionETC2': Joi.boolean().required(),
                'textureCompressionASTC_LDR': Joi.boolean().required(),
                'textureCompressionBC': Joi.boolean().required(),
                'occlusionQueryPrecise': Joi.boolean().required(),
                'pipelineStatisticsQuery': Joi.boolean().required(),
                'vertexPipelineStoresAndAtomics': Joi.boolean().required(),
                'fragmentStoresAndAtomics': Joi.boolean().required(),
                'shaderTessellationAndGeometryPointSize': Joi.boolean().required(),
                'shaderImageGatherExtended': Joi.boolean().required(),
                'shaderStorageImageExtendedFormats': Joi.boolean().required(),
                'shaderStorageImageMultisample': Joi.boolean().required(),
                'shaderStorageImageReadWithoutFormat': Joi.boolean().required(),
                'shaderStorageImageWriteWithoutFormat': Joi.boolean().required(),
                'shaderUniformBufferArrayDynamicIndexing': Joi.boolean().required(),
                'shaderSampledImageArrayDynamicIndexing': Joi.boolean().required(),
                'shaderStorageBufferArrayDynamicIndexing': Joi.boolean().required(),
                'shaderStorageImageArrayDynamicIndexing': Joi.boolean().required(),
                'shaderClipDistance': Joi.boolean().required(),
                'shaderCullDistance': Joi.boolean().required(),
                'shaderFloat64': Joi.boolean().required(),
                'shaderInt64': Joi.boolean().required(),
                'shaderInt16': Joi.boolean().required(),
                'shaderResourceResidency': Joi.boolean().required(),
                'shaderResourceMinLod': Joi.boolean().required(),
                'sparseBinding': Joi.boolean().required(),
                'sparseResidencyBuffer': Joi.boolean().required(),
                'sparseResidencyImage2D': Joi.boolean().required(),
                'sparseResidencyImage3D': Joi.boolean().required(),
                'sparseResidency2Samples': Joi.boolean().required(),
                'sparseResidency4Samples': Joi.boolean().required(),
                'sparseResidency8Samples': Joi.boolean().required(),
                'sparseResidency16Samples': Joi.boolean().required(),
                'sparseResidencyAliased': Joi.boolean().required(),
                'variableMultisampleRate': Joi.boolean().required(),
                'inheritedQueries': Joi.boolean().required(),
            }).required(),
            'memory': Joi.object().keys({
                'memoryTypes': Joi.array().items(Joi.object().keys({
                    'heapIndex': Joi.number(),
                    'propertyFlags': Joi.array().items(Joi.string()),
                })),
                'memoryHeaps': Joi.array().items(Joi.object().keys({
                    'flags': Joi.array().items(Joi.string()),
                    'size': Joi.number(),
                })),
            }).required(),
            'queues': Joi.array().items(Joi.object().keys({
                'minImageTransferGranularity': Joi.object().keys({
                    'depth': Joi.number().required(),
                    'height': Joi.number().required(),
                    'width': Joi.number().required(),
                }).required(),
                'queueCount': Joi.number().required(),
                'queueFlags': Joi.array().items(Joi.string()).required(),
                'timestampValidBits': Joi.number().required(),
            })).required(),
            'swapchain': Joi.object().keys({
                'maxImageArrayLayers': Joi.number(),
                'minImageCount': Joi.number(),
                'maxImageCount': Joi.number(),
                'formats': Joi.array().items(Joi.string()),
                'presentModes': Joi.array().items(Joi.string()),
                'supportedTransforms': Joi.array().items(Joi.string()),
                'supportedCompositeAlpha': Joi.array().items(Joi.string()),
                'supportedUsageFlags': Joi.array().items(Joi.string()),
                'surfaceExtension': Joi.string(),
            }).required(),
            'extensions': Joi.array().items(Joi.object().keys({
                'extensionName': Joi.string().required(),
                'specVersion': Joi.number().required(),
            })).required(),
            'formats': Joi.array().required(),
        }).required(),
    }).required(),
}
